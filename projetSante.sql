-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Hôte : localhost:3306
-- Généré le : ven. 30 juin 2023 à 12:49
-- Version du serveur : 10.5.20-MariaDB
-- Version de PHP : 7.3.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de données : `projetSante`
--
CREATE DATABASE IF NOT EXISTS `projetSante` DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;
USE `projetSante`;

-- --------------------------------------------------------

--
-- Structure de la table `activite`
--

CREATE TABLE `activite` (
  `id` int(11) NOT NULL,
  `libelle` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Déchargement des données de la table `activite`
--

INSERT INTO `activite` (`id`, `libelle`) VALUES
(1, 'Lecture'),
(2, 'Ecran'),
(3, 'Activité sportive'),
(4, 'Autre'),
(5, 'Activité artistique');

-- --------------------------------------------------------

--
-- Structure de la table `campagne`
--

CREATE TABLE `campagne` (
  `id_campagne` int(11) NOT NULL,
  `date_debut` date NOT NULL,
  `date_fin` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Déchargement des données de la table `campagne`
--

INSERT INTO `campagne` (`id_campagne`, `date_debut`, `date_fin`) VALUES
(3, '2023-06-15', '2023-06-30');

-- --------------------------------------------------------

--
-- Structure de la table `famille`
--

CREATE TABLE `famille` (
  `id` int(11) NOT NULL,
  `nom` varchar(25) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Déchargement des données de la table `famille`
--

INSERT INTO `famille` (`id`, `nom`) VALUES
(59, 'Dubois'),
(56, 'Fischer'),
(61, 'Garcia'),
(60, 'Kovačić'),
(58, 'Lefevre'),
(54, 'Müller'),
(63, 'Rossi'),
(55, 'Schmidt'),
(62, 'Silva'),
(57, 'Weber'),
(64, 'admin');

-- --------------------------------------------------------

--
-- Structure de la table `genre`
--

CREATE TABLE `genre` (
  `id` int(11) NOT NULL,
  `libelle` varchar(25) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Déchargement des données de la table `genre`
--

INSERT INTO `genre` (`id`, `libelle`) VALUES
(1, 'Masculin'),
(2, 'Féminin'),
(3, 'Non-binaire');

-- --------------------------------------------------------

--
-- Structure de la table `role`
--

CREATE TABLE `role` (
  `id` int(11) NOT NULL,
  `libelle` varchar(25) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Déchargement des données de la table `role`
--

INSERT INTO `role` (`id`, `libelle`) VALUES
(1, 'Père'),
(2, 'Mère'),
(3, 'Eleve'),
(4, 'Frère ou Soeur'),
(5, 'Prof'),
(6, 'AED'),
(7, 'Autre');

-- --------------------------------------------------------

--
-- Structure de la table `sommeil`
--

CREATE TABLE `sommeil` (
  `id_sommeil` int(11) NOT NULL,
  `id_utilisateur` int(11) NOT NULL,
  `jour` varchar(15) NOT NULL,
  `coucher` datetime NOT NULL,
  `endormissement` datetime NOT NULL,
  `lever` datetime NOT NULL,
  `fatigue` int(11) NOT NULL,
  `activite` int(11) NOT NULL,
  `id_campagne` int(11) DEFAULT NULL,
  `date_creation` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Déchargement des données de la table `sommeil`
--

INSERT INTO `sommeil` (`id_sommeil`, `id_utilisateur`, `jour`, `coucher`, `endormissement`, `lever`, `fatigue`, `activite`, `id_campagne`, `date_creation`) VALUES
(55, 43, 'Nuit 1', '2023-06-15 23:00:00', '2023-06-16 00:52:00', '2023-06-16 07:00:00', 5, 5, 3, '2023-06-21 12:19:13'),
(56, 44, 'Nuit 1', '2023-06-15 23:00:00', '2023-06-16 00:56:00', '2023-06-16 06:00:00', 3, 3, 3, '2023-06-21 12:19:13'),
(58, 46, 'Nuit 1', '2023-06-15 23:00:00', '2023-06-15 23:08:00', '2023-06-16 07:00:00', 6, 4, 3, '2023-06-21 12:19:13'),
(59, 47, 'Nuit 1', '2023-06-15 21:00:00', '2023-06-15 21:39:00', '2023-06-16 05:00:00', 8, 3, 3, '2023-06-21 12:19:13'),
(60, 48, 'Nuit 1', '2023-06-15 20:00:00', '2023-06-15 20:19:00', '2023-06-16 07:00:00', 9, 1, 3, '2023-06-21 12:19:13'),
(61, 49, 'Nuit 1', '2023-06-15 20:00:00', '2023-06-15 21:23:00', '2023-06-16 05:00:00', 9, 3, 3, '2023-06-21 12:19:13'),
(62, 50, 'Nuit 1', '2023-06-15 20:00:00', '2023-06-15 21:19:00', '2023-06-16 05:00:00', 6, 2, 3, '2023-06-21 12:19:13'),
(63, 51, 'Nuit 1', '2023-06-15 21:00:00', '2023-06-15 22:17:00', '2023-06-16 05:00:00', 1, 4, 3, '2023-06-21 12:19:13'),
(155, 43, 'Nuit 2', '2023-06-16 19:58:57', '2023-06-16 21:58:57', '2023-06-17 07:00:00', 2, 3, 3, '2023-06-21 12:40:40'),
(156, 44, 'Nuit 2', '2023-06-16 19:30:15', '2023-06-16 21:30:15', '2023-06-17 06:00:00', 7, 5, 3, '2023-06-21 12:40:40'),
(157, 45, 'Nuit 2', '2023-06-16 21:34:25', '2023-06-16 23:34:25', '2023-06-17 07:00:00', 6, 2, 3, '2023-06-21 12:40:40'),
(158, 46, 'Nuit 2', '2023-06-16 21:21:20', '2023-06-16 23:21:20', '2023-06-17 06:00:00', 1, 2, 3, '2023-06-21 12:40:40'),
(159, 47, 'Nuit 2', '2023-06-16 22:03:20', '2023-06-17 00:03:20', '2023-06-17 06:00:00', 7, 3, 3, '2023-06-21 12:40:40'),
(160, 48, 'Nuit 2', '2023-06-16 18:12:41', '2023-06-16 20:12:41', '2023-06-17 06:00:00', 10, 4, 3, '2023-06-21 12:40:40'),
(161, 49, 'Nuit 2', '2023-06-16 20:53:29', '2023-06-16 22:53:29', '2023-06-17 07:00:00', 6, 2, 3, '2023-06-21 12:40:40'),
(162, 50, 'Nuit 2', '2023-06-16 21:49:20', '2023-06-16 23:49:20', '2023-06-17 08:00:00', 9, 1, 3, '2023-06-21 12:40:40'),
(163, 51, 'Nuit 2', '2023-06-16 22:26:14', '2023-06-17 00:26:14', '2023-06-17 08:00:00', 8, 3, 3, '2023-06-21 12:40:40'),
(170, 43, 'Nuit 3', '2023-06-17 18:16:43', '2023-06-17 20:16:43', '2023-06-18 07:00:00', 1, 3, 3, '2023-06-21 12:40:40'),
(171, 44, 'Nuit 3', '2023-06-17 19:14:26', '2023-06-17 21:14:26', '2023-06-18 05:00:00', 7, 1, 3, '2023-06-21 12:40:40'),
(172, 45, 'Nuit 3', '2023-06-17 21:21:58', '2023-06-17 23:21:58', '2023-06-18 08:00:00', 10, 1, 3, '2023-06-21 12:40:40'),
(173, 46, 'Nuit 3', '2023-06-17 20:06:33', '2023-06-17 21:25:33', '2023-06-18 06:00:00', 7, 3, 3, '2023-06-21 12:36:56'),
(174, 47, 'Nuit 3', '2023-06-17 21:26:52', '2023-06-17 23:26:52', '2023-06-18 05:00:00', 6, 5, 3, '2023-06-21 12:40:40'),
(175, 48, 'Nuit 3', '2023-06-17 19:54:36', '2023-06-17 21:54:36', '2023-06-18 05:00:00', 7, 3, 3, '2023-06-21 12:40:40'),
(176, 49, 'Nuit 3', '2023-06-17 23:12:28', '2023-06-18 01:12:28', '2023-06-18 07:00:00', 2, 1, 3, '2023-06-21 12:40:40'),
(177, 50, 'Nuit 3', '2023-06-17 20:18:29', '2023-06-17 22:18:29', '2023-06-18 05:00:00', 8, 3, 3, '2023-06-21 12:40:40'),
(178, 51, 'Nuit 3', '2023-06-17 19:55:05', '2023-06-17 21:55:05', '2023-06-18 08:00:00', 2, 2, 3, '2023-06-21 12:40:40'),
(185, 43, 'Nuit 4', '2023-06-18 19:34:12', '2023-06-18 20:34:12', '2023-06-19 07:00:00', 8, 2, 3, '2023-06-21 12:41:17'),
(186, 44, 'Nuit 4', '2023-06-18 19:51:22', '2023-06-18 21:51:22', '2023-06-19 07:00:00', 10, 3, 3, '2023-06-21 12:40:40'),
(187, 45, 'Nuit 4', '2023-06-18 22:34:10', '2023-06-19 00:34:10', '2023-06-19 07:00:00', 7, 2, 3, '2023-06-21 12:40:40'),
(188, 46, 'Nuit 4', '2023-06-18 21:16:47', '2023-06-18 23:16:47', '2023-06-19 05:00:00', 3, 4, 3, '2023-06-21 12:40:40'),
(189, 47, 'Nuit 4', '2023-06-18 18:41:23', '2023-06-18 20:41:23', '2023-06-19 08:00:00', 6, 4, 3, '2023-06-21 12:40:40'),
(190, 48, 'Nuit 4', '2023-06-18 21:36:39', '2023-06-18 23:36:39', '2023-06-19 07:00:00', 8, 1, 3, '2023-06-21 12:40:40'),
(191, 49, 'Nuit 4', '2023-06-18 19:59:02', '2023-06-18 20:42:02', '2023-06-19 08:00:00', 3, 3, 3, '2023-06-21 12:37:39'),
(192, 50, 'Nuit 4', '2023-06-18 19:05:13', '2023-06-18 21:05:13', '2023-06-19 08:00:00', 3, 3, 3, '2023-06-21 12:40:40'),
(193, 51, 'Nuit 4', '2023-06-18 19:29:03', '2023-06-18 21:29:03', '2023-06-19 05:00:00', 9, 2, 3, '2023-06-21 12:40:40'),
(200, 43, 'Nuit 5', '2023-06-19 22:20:38', '2023-06-20 00:20:38', '2023-06-20 07:00:00', 8, 1, 3, '2023-06-21 12:40:40'),
(201, 44, 'Nuit 5', '2023-06-19 19:14:26', '2023-06-19 20:24:26', '2023-06-20 06:00:00', 1, 4, 3, '2023-06-21 12:37:47'),
(202, 45, 'Nuit 5', '2023-06-19 17:10:19', '2023-06-19 19:10:19', '2023-06-20 06:00:00', 6, 3, 3, '2023-06-21 12:40:40'),
(203, 46, 'Nuit 5', '2023-06-19 20:08:19', '2023-06-19 22:08:19', '2023-06-20 08:00:00', 8, 4, 3, '2023-06-21 12:40:40'),
(204, 47, 'Nuit 5', '2023-06-19 21:10:38', '2023-06-19 23:10:38', '2023-06-20 06:00:00', 3, 4, 3, '2023-06-21 12:40:40'),
(205, 48, 'Nuit 5', '2023-06-19 21:28:08', '2023-06-19 23:28:08', '2023-06-20 07:00:00', 5, 4, 3, '2023-06-21 12:40:40'),
(206, 49, 'Nuit 5', '2023-06-19 19:48:48', '2023-06-19 21:48:48', '2023-06-20 07:00:00', 1, 3, 3, '2023-06-21 12:40:40'),
(207, 50, 'Nuit 5', '2023-06-19 18:39:35', '2023-06-19 20:39:35', '2023-06-20 07:00:00', 6, 1, 3, '2023-06-21 12:40:40'),
(208, 51, 'Nuit 5', '2023-06-19 21:51:36', '2023-06-19 23:51:36', '2023-06-20 05:00:00', 2, 4, 3, '2023-06-21 12:40:40'),
(365, 43, 'Nuit 6', '2023-06-20 21:46:25', '2023-06-20 22:56:25', '2023-06-21 07:00:00', 2, 5, 3, '2023-06-21 12:26:51'),
(366, 44, 'Nuit 6', '2023-06-20 23:29:47', '2023-06-21 01:10:47', '2023-06-21 07:00:00', 2, 5, 3, '2023-06-21 12:26:51'),
(367, 45, 'Nuit 6', '2023-06-20 20:09:36', '2023-06-20 21:07:36', '2023-06-21 07:00:00', 3, 2, 3, '2023-06-21 12:26:51'),
(368, 46, 'Nuit 6', '2023-06-20 22:18:44', '2023-06-20 23:57:44', '2023-06-21 07:00:00', 3, 1, 3, '2023-06-21 12:26:51'),
(369, 47, 'Nuit 6', '2023-06-20 23:04:50', '2023-06-21 00:31:50', '2023-06-21 07:00:00', 7, 1, 3, '2023-06-21 12:26:51'),
(370, 48, 'Nuit 6', '2023-06-20 20:27:57', '2023-06-20 20:45:57', '2023-06-21 07:00:00', 3, 1, 3, '2023-06-21 12:26:51'),
(371, 49, 'Nuit 6', '2023-06-20 21:05:17', '2023-06-20 22:00:17', '2023-06-21 07:00:00', 7, 2, 3, '2023-06-21 12:26:51'),
(372, 50, 'Nuit 6', '2023-06-20 20:02:32', '2023-06-20 21:43:32', '2023-06-21 07:00:00', 10, 1, 3, '2023-06-21 12:26:51'),
(373, 51, 'Nuit 6', '2023-06-20 20:56:51', '2023-06-20 22:40:51', '2023-06-21 07:00:00', 7, 5, 3, '2023-06-21 12:26:51'),
(380, 43, 'Nuit 7', '2023-06-21 20:12:34', '2023-06-21 21:20:34', '2023-06-22 07:00:00', 2, 4, 3, '2023-06-21 12:26:51'),
(381, 44, 'Nuit 7', '2023-06-21 23:13:01', '2023-06-21 23:47:01', '2023-06-22 07:00:00', 5, 4, 3, '2023-06-21 12:26:51'),
(382, 45, 'Nuit 7', '2023-06-21 23:27:20', '2023-06-22 00:42:20', '2023-06-22 07:00:00', 5, 5, 3, '2023-06-21 12:26:51'),
(383, 46, 'Nuit 7', '2023-06-21 23:37:37', '2023-06-22 00:19:37', '2023-06-22 07:00:00', 10, 2, 3, '2023-06-21 12:26:51'),
(384, 47, 'Nuit 7', '2023-06-21 23:46:02', '2023-06-22 01:20:02', '2023-06-22 07:00:00', 9, 1, 3, '2023-06-21 12:26:51'),
(385, 48, 'Nuit 7', '2023-06-21 23:57:21', '2023-06-22 01:47:21', '2023-06-22 07:00:00', 9, 5, 3, '2023-06-21 12:26:51'),
(386, 49, 'Nuit 7', '2023-06-21 20:28:37', '2023-06-21 21:03:37', '2023-06-22 07:00:00', 4, 1, 3, '2023-06-21 12:26:51'),
(387, 50, 'Nuit 7', '2023-06-21 22:31:05', '2023-06-21 23:38:05', '2023-06-22 07:00:00', 10, 4, 3, '2023-06-21 12:26:51'),
(388, 51, 'Nuit 7', '2023-06-21 23:09:32', '2023-06-22 01:02:32', '2023-06-22 07:00:00', 7, 2, 3, '2023-06-21 12:26:51'),
(395, 43, 'Nuit 8', '2023-06-22 23:43:28', '2023-06-23 00:54:28', '2023-06-23 07:00:00', 5, 2, 3, '2023-06-21 12:26:51'),
(396, 44, 'Nuit 8', '2023-06-22 21:54:04', '2023-06-22 23:15:04', '2023-06-23 07:00:00', 2, 1, 3, '2023-06-21 12:26:51'),
(397, 45, 'Nuit 8', '2023-06-22 22:19:57', '2023-06-22 23:29:57', '2023-06-23 07:00:00', 7, 1, 3, '2023-06-21 12:26:51'),
(398, 46, 'Nuit 8', '2023-06-22 21:57:34', '2023-06-22 23:38:34', '2023-06-23 07:00:00', 7, 1, 3, '2023-06-21 12:26:51'),
(399, 47, 'Nuit 8', '2023-06-22 22:48:00', '2023-06-22 23:52:00', '2023-06-23 07:00:00', 4, 3, 3, '2023-06-21 12:26:51'),
(400, 48, 'Nuit 8', '2023-06-22 20:07:15', '2023-06-22 20:19:15', '2023-06-23 07:00:00', 6, 2, 3, '2023-06-21 12:26:51'),
(401, 49, 'Nuit 8', '2023-06-22 20:12:20', '2023-06-22 21:43:20', '2023-06-23 07:00:00', 2, 3, 3, '2023-06-21 12:26:51'),
(402, 50, 'Nuit 8', '2023-06-22 20:39:53', '2023-06-22 21:52:53', '2023-06-23 07:00:00', 10, 2, 3, '2023-06-21 12:26:51'),
(403, 51, 'Nuit 8', '2023-06-22 22:42:28', '2023-06-23 00:06:28', '2023-06-23 07:00:00', 10, 4, 3, '2023-06-21 12:26:51'),
(410, 43, 'Nuit 9', '2023-06-23 21:35:39', '2023-06-23 22:19:39', '2023-06-24 07:00:00', 1, 5, 3, '2023-06-21 12:26:51'),
(411, 44, 'Nuit 9', '2023-06-23 21:20:27', '2023-06-23 22:42:27', '2023-06-24 07:00:00', 2, 5, 3, '2023-06-21 12:26:51'),
(412, 45, 'Nuit 9', '2023-06-23 21:55:20', '2023-06-23 22:36:20', '2023-06-24 07:00:00', 5, 3, 3, '2023-06-21 12:26:51'),
(413, 46, 'Nuit 9', '2023-06-23 21:35:17', '2023-06-23 22:46:17', '2023-06-24 07:00:00', 8, 2, 3, '2023-06-21 12:26:51'),
(414, 47, 'Nuit 9', '2023-06-23 22:10:26', '2023-06-24 00:00:26', '2023-06-24 07:00:00', 8, 4, 3, '2023-06-21 12:26:51'),
(415, 48, 'Nuit 9', '2023-06-23 22:06:18', '2023-06-23 23:52:18', '2023-06-24 07:00:00', 6, 3, 3, '2023-06-21 12:26:51'),
(416, 49, 'Nuit 9', '2023-06-23 20:00:13', '2023-06-23 21:19:13', '2023-06-24 07:00:00', 1, 2, 3, '2023-06-21 12:26:51'),
(417, 50, 'Nuit 9', '2023-06-23 21:42:13', '2023-06-23 22:54:13', '2023-06-24 07:00:00', 9, 5, 3, '2023-06-21 12:26:51'),
(418, 51, 'Nuit 9', '2023-06-23 20:30:22', '2023-06-23 22:28:22', '2023-06-24 07:00:00', 6, 4, 3, '2023-06-21 12:26:51'),
(425, 43, 'Nuit 10', '2023-06-24 21:35:11', '2023-06-24 23:25:11', '2023-06-25 07:00:00', 7, 2, 3, '2023-06-21 12:26:51'),
(426, 44, 'Nuit 10', '2023-06-24 23:40:08', '2023-06-24 23:53:08', '2023-06-25 07:00:00', 10, 4, 3, '2023-06-21 12:26:51'),
(427, 45, 'Nuit 10', '2023-06-24 21:35:04', '2023-06-24 22:50:04', '2023-06-25 07:00:00', 10, 2, 3, '2023-06-21 12:26:51'),
(428, 46, 'Nuit 10', '2023-06-24 20:54:56', '2023-06-24 22:35:56', '2023-06-25 07:00:00', 7, 2, 3, '2023-06-21 12:26:51'),
(429, 47, 'Nuit 10', '2023-06-24 23:49:33', '2023-06-25 00:33:33', '2023-06-25 07:00:00', 7, 2, 3, '2023-06-21 12:26:51'),
(430, 48, 'Nuit 10', '2023-06-24 20:22:51', '2023-06-24 20:50:51', '2023-06-25 07:00:00', 6, 5, 3, '2023-06-21 12:26:51'),
(431, 49, 'Nuit 10', '2023-06-24 22:25:39', '2023-06-25 00:23:39', '2023-06-25 07:00:00', 2, 4, 3, '2023-06-21 12:26:51'),
(432, 50, 'Nuit 10', '2023-06-24 22:59:43', '2023-06-24 23:40:43', '2023-06-25 07:00:00', 9, 3, 3, '2023-06-21 12:26:51'),
(433, 51, 'Nuit 10', '2023-06-24 23:41:35', '2023-06-25 00:57:35', '2023-06-25 07:00:00', 8, 3, 3, '2023-06-21 12:26:51'),
(440, 43, 'Nuit 11', '2023-06-25 20:19:02', '2023-06-25 20:26:02', '2023-06-26 07:00:00', 3, 4, 3, '2023-06-21 12:26:51'),
(441, 44, 'Nuit 11', '2023-06-25 21:08:56', '2023-06-25 22:19:56', '2023-06-26 07:00:00', 7, 2, 3, '2023-06-21 12:26:51'),
(442, 45, 'Nuit 11', '2023-06-25 20:47:32', '2023-06-25 22:25:32', '2023-06-26 07:00:00', 7, 1, 3, '2023-06-21 12:26:51'),
(443, 46, 'Nuit 11', '2023-06-25 20:30:56', '2023-06-25 21:13:56', '2023-06-26 07:00:00', 9, 1, 3, '2023-06-21 12:26:51'),
(444, 47, 'Nuit 11', '2023-06-25 20:12:02', '2023-06-25 20:43:02', '2023-06-26 07:00:00', 5, 1, 3, '2023-06-21 12:26:51'),
(445, 48, 'Nuit 11', '2023-06-25 23:27:24', '2023-06-25 23:50:24', '2023-06-26 07:00:00', 9, 2, 3, '2023-06-21 12:26:51'),
(446, 49, 'Nuit 11', '2023-06-25 20:40:51', '2023-06-25 20:58:51', '2023-06-26 07:00:00', 8, 1, 3, '2023-06-21 12:26:51'),
(447, 50, 'Nuit 11', '2023-06-25 21:02:05', '2023-06-25 21:17:05', '2023-06-26 07:00:00', 8, 4, 3, '2023-06-21 12:26:51'),
(448, 51, 'Nuit 11', '2023-06-25 23:07:54', '2023-06-25 23:24:54', '2023-06-26 07:00:00', 2, 3, 3, '2023-06-21 12:26:51'),
(455, 43, 'Nuit 12', '2023-06-26 21:22:19', '2023-06-26 21:33:19', '2023-06-27 07:00:00', 8, 1, 3, '2023-06-21 12:26:51'),
(456, 44, 'Nuit 12', '2023-06-26 21:11:59', '2023-06-26 22:07:59', '2023-06-27 07:00:00', 6, 2, 3, '2023-06-21 12:26:51'),
(457, 45, 'Nuit 12', '2023-06-26 21:52:59', '2023-06-26 22:04:59', '2023-06-27 07:00:00', 7, 3, 3, '2023-06-21 12:26:51'),
(458, 46, 'Nuit 12', '2023-06-26 21:48:57', '2023-06-26 23:47:57', '2023-06-27 07:00:00', 10, 4, 3, '2023-06-21 12:26:51'),
(459, 47, 'Nuit 12', '2023-06-26 23:25:48', '2023-06-27 01:00:48', '2023-06-27 07:00:00', 2, 2, 3, '2023-06-21 12:26:51'),
(460, 48, 'Nuit 12', '2023-06-26 23:42:10', '2023-06-27 01:34:10', '2023-06-27 07:00:00', 1, 2, 3, '2023-06-21 12:26:51'),
(461, 49, 'Nuit 12', '2023-06-26 20:13:21', '2023-06-26 20:52:21', '2023-06-27 07:00:00', 7, 2, 3, '2023-06-21 12:26:51'),
(462, 50, 'Nuit 12', '2023-06-26 22:00:21', '2023-06-26 23:25:21', '2023-06-27 07:00:00', 8, 3, 3, '2023-06-21 12:26:51'),
(463, 51, 'Nuit 12', '2023-06-26 21:21:41', '2023-06-26 22:36:41', '2023-06-27 07:00:00', 7, 4, 3, '2023-06-21 12:26:51'),
(470, 43, 'Nuit 13', '2023-06-27 23:51:47', '2023-06-28 01:42:47', '2023-06-28 07:00:00', 3, 2, 3, '2023-06-21 12:26:51'),
(471, 44, 'Nuit 13', '2023-06-27 20:56:48', '2023-06-27 22:28:48', '2023-06-28 07:00:00', 10, 5, 3, '2023-06-21 12:26:51'),
(472, 45, 'Nuit 13', '2023-06-27 21:08:40', '2023-06-27 21:18:40', '2023-06-28 07:00:00', 2, 1, 3, '2023-06-21 12:26:51'),
(473, 46, 'Nuit 13', '2023-06-27 22:52:56', '2023-06-28 00:45:56', '2023-06-28 07:00:00', 6, 1, 3, '2023-06-21 12:26:51'),
(474, 47, 'Nuit 13', '2023-06-27 22:58:39', '2023-06-28 00:11:39', '2023-06-28 07:00:00', 4, 1, 3, '2023-06-21 12:26:51'),
(475, 48, 'Nuit 13', '2023-06-27 22:14:27', '2023-06-27 22:33:27', '2023-06-28 07:00:00', 4, 2, 3, '2023-06-21 12:26:51'),
(476, 49, 'Nuit 13', '2023-06-27 22:16:17', '2023-06-27 23:57:17', '2023-06-28 07:00:00', 9, 1, 3, '2023-06-21 12:26:51'),
(477, 50, 'Nuit 13', '2023-06-27 20:38:03', '2023-06-27 22:17:03', '2023-06-28 07:00:00', 8, 4, 3, '2023-06-21 12:26:51'),
(478, 51, 'Nuit 13', '2023-06-27 20:21:26', '2023-06-27 21:32:26', '2023-06-28 07:00:00', 7, 4, 3, '2023-06-21 12:26:51'),
(485, 43, 'Nuit 14', '2023-06-28 22:20:51', '2023-06-28 23:23:51', '2023-06-29 07:00:00', 3, 5, 3, '2023-06-21 12:26:51'),
(486, 44, 'Nuit 14', '2023-06-28 20:05:08', '2023-06-28 20:34:08', '2023-06-29 07:00:00', 10, 5, 3, '2023-06-21 12:26:51'),
(487, 45, 'Nuit 14', '2023-06-28 21:23:11', '2023-06-28 22:26:11', '2023-06-29 07:00:00', 1, 2, 3, '2023-06-21 12:26:51'),
(488, 46, 'Nuit 14', '2023-06-28 22:40:30', '2023-06-29 00:30:30', '2023-06-29 07:00:00', 7, 1, 3, '2023-06-21 12:26:51'),
(489, 47, 'Nuit 14', '2023-06-28 21:12:54', '2023-06-28 21:25:54', '2023-06-29 07:00:00', 9, 4, 3, '2023-06-21 12:26:51'),
(490, 48, 'Nuit 14', '2023-06-28 22:03:03', '2023-06-28 23:18:03', '2023-06-29 07:00:00', 8, 4, 3, '2023-06-21 12:26:51'),
(491, 49, 'Nuit 14', '2023-06-28 22:36:32', '2023-06-29 00:18:32', '2023-06-29 07:00:00', 6, 3, 3, '2023-06-21 12:26:51'),
(492, 50, 'Nuit 14', '2023-06-28 22:53:30', '2023-06-28 23:42:30', '2023-06-29 07:00:00', 5, 2, 3, '2023-06-21 12:26:51'),
(493, 51, 'Nuit 14', '2023-06-28 22:37:54', '2023-06-28 23:28:54', '2023-06-29 07:00:00', 7, 4, 3, '2023-06-21 12:26:51'),
(500, 43, 'Nuit 15', '2023-06-29 22:31:09', '2023-06-30 00:01:09', '2023-06-30 07:00:00', 9, 3, 3, '2023-06-21 12:29:28'),
(501, 44, 'Nuit 15', '2023-06-29 23:08:51', '2023-06-29 23:50:51', '2023-06-30 07:00:00', 6, 5, 3, '2023-06-21 12:29:28'),
(502, 45, 'Nuit 15', '2023-06-29 20:10:47', '2023-06-29 21:02:47', '2023-06-30 07:00:00', 10, 5, 3, '2023-06-21 12:29:28'),
(503, 46, 'Nuit 15', '2023-06-29 23:27:25', '2023-06-29 23:43:25', '2023-06-30 07:00:00', 9, 2, 3, '2023-06-21 12:29:28'),
(504, 47, 'Nuit 15', '2023-06-29 20:44:40', '2023-06-29 21:17:40', '2023-06-30 07:00:00', 10, 5, 3, '2023-06-21 12:29:28'),
(505, 48, 'Nuit 15', '2023-06-29 21:21:06', '2023-06-29 23:15:06', '2023-06-30 07:00:00', 8, 5, 3, '2023-06-21 12:29:28'),
(506, 49, 'Nuit 15', '2023-06-29 20:31:32', '2023-06-29 20:38:32', '2023-06-30 07:00:00', 2, 1, 3, '2023-06-21 12:29:28'),
(507, 50, 'Nuit 15', '2023-06-29 22:34:25', '2023-06-29 23:06:25', '2023-06-30 07:00:00', 5, 4, 3, '2023-06-21 12:29:28'),
(508, 51, 'Nuit 15', '2023-06-29 23:17:25', '2023-06-29 23:35:25', '2023-06-30 07:00:00', 3, 5, 3, '2023-06-21 12:29:28');

-- --------------------------------------------------------

--
-- Structure de la table `utilisateur`
--

CREATE TABLE `utilisateur` (
  `id` int(11) NOT NULL,
  `prenom` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `password` varchar(255) NOT NULL,
  `role` int(11) NOT NULL,
  `date_naissance` date NOT NULL,
  `genre` int(11) NOT NULL,
  `internat` tinyint(1) NOT NULL DEFAULT 0,
  `date_creation` datetime NOT NULL DEFAULT current_timestamp(),
  `date_derniere_connexion` datetime NOT NULL DEFAULT current_timestamp(),
  `id_famille` int(11) NOT NULL,
  `admin` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

--
-- Déchargement des données de la table `utilisateur`
--

INSERT INTO `utilisateur` (`id`, `prenom`, `email`, `password`, `role`, `date_naissance`, `genre`, `internat`, `date_creation`, `date_derniere_connexion`, `id_famille`, `admin`) VALUES
(43, 'Emma', 'emma@example.com', 'password123', 3, '2008-05-15', 2, 0, '2023-06-21 11:03:32', '2023-06-21 11:03:32', 55, 0),
(44, 'Noah', 'noah@example.com', 'qwerty123', 3, '2007-08-20', 1, 0, '2023-06-21 11:03:32', '2023-06-21 11:03:32', 56, 0),
(45, 'Olivia', 'olivia@example.com', 'abc123', 3, '2008-11-25', 2, 0, '2023-06-21 11:03:32', '2023-06-21 11:03:32', 57, 0),
(46, 'Aiden', 'aiden@example.com', 'pass1234', 3, '2007-01-05', 1, 0, '2023-06-21 11:03:32', '2023-06-21 11:03:32', 58, 0),
(47, 'Sophia', 'sophia@example.com', 'hello123', 3, '2008-04-10', 2, 0, '2023-06-21 11:03:32', '2023-06-21 11:03:32', 59, 0),
(48, 'Carter', 'carter@example.com', 'welcome123', 3, '2007-06-15', 1, 0, '2023-06-21 11:03:32', '2023-06-21 11:03:32', 60, 0),
(49, 'Isabella', 'isabella@example.com', 'test123', 3, '2008-09-20', 2, 0, '2023-06-21 11:03:32', '2023-06-21 11:03:32', 61, 0),
(50, 'James', 'james@example.com', 'password', 3, '2007-12-01', 1, 0, '2023-06-21 11:03:32', '2023-06-21 11:03:32', 62, 0),
(51, 'Ava', 'ava@example.com', 'letmein123', 3, '2008-02-18', 2, 0, '2023-06-21 11:03:32', '2023-06-21 11:03:32', 63, 0),
(52, 'admin', 'admin@admin.fr', 'admin', 5, '2000-12-15', 3, 0, '2023-06-21 12:34:47', '2023-06-30 12:44:16', 64, 1);

--
-- Index pour les tables déchargées
--

--
-- Index pour la table `activite`
--
ALTER TABLE `activite`
  ADD PRIMARY KEY (`id`);

--
-- Index pour la table `campagne`
--
ALTER TABLE `campagne`
  ADD PRIMARY KEY (`id_campagne`);

--
-- Index pour la table `famille`
--
ALTER TABLE `famille`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unik_name` (`nom`);

--
-- Index pour la table `genre`
--
ALTER TABLE `genre`
  ADD PRIMARY KEY (`id`);

--
-- Index pour la table `role`
--
ALTER TABLE `role`
  ADD PRIMARY KEY (`id`);

--
-- Index pour la table `sommeil`
--
ALTER TABLE `sommeil`
  ADD PRIMARY KEY (`id_sommeil`),
  ADD KEY `fk_utilisateur` (`id_utilisateur`),
  ADD KEY `fk_campagne` (`id_campagne`);

--
-- Index pour la table `utilisateur`
--
ALTER TABLE `utilisateur`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unik_email` (`email`),
  ADD KEY `fk_famille` (`id_famille`);

--
-- AUTO_INCREMENT pour les tables déchargées
--

--
-- AUTO_INCREMENT pour la table `activite`
--
ALTER TABLE `activite`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT pour la table `campagne`
--
ALTER TABLE `campagne`
  MODIFY `id_campagne` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT pour la table `famille`
--
ALTER TABLE `famille`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=74;

--
-- AUTO_INCREMENT pour la table `genre`
--
ALTER TABLE `genre`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT pour la table `role`
--
ALTER TABLE `role`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT pour la table `sommeil`
--
ALTER TABLE `sommeil`
  MODIFY `id_sommeil` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=519;

--
-- AUTO_INCREMENT pour la table `utilisateur`
--
ALTER TABLE `utilisateur`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=66;

--
-- Contraintes pour les tables déchargées
--

--
-- Contraintes pour la table `sommeil`
--
ALTER TABLE `sommeil`
  ADD CONSTRAINT `fk_campagne` FOREIGN KEY (`id_campagne`) REFERENCES `campagne` (`id_campagne`) ON DELETE CASCADE,
  ADD CONSTRAINT `fk_utilisateur` FOREIGN KEY (`id_utilisateur`) REFERENCES `utilisateur` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `utilisateur_fk` FOREIGN KEY (`id_utilisateur`) REFERENCES `utilisateur` (`id`);

--
-- Contraintes pour la table `utilisateur`
--
ALTER TABLE `utilisateur`
  ADD CONSTRAINT `fk_famille` FOREIGN KEY (`id_famille`) REFERENCES `famille` (`id`) ON DELETE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
